// Generated by CoffeeScript 1.3.1
(function() {

  (jQuery('document')).ready(function() {
    (jQuery('a.more')).on('click', function(event) {
      var list, template;
      event.preventDefault();
      list = ((jQuery(this)).parent()).find('ul');
      template = (jQuery('.template', list)).clone();
      template.removeClass('template');
      template.css('opacity', 0);
      (template.find('input')).each(function(el) {
        return (jQuery(this)).attr('name', ((jQuery(this)).attr('name')).replace(/XX/, list.length - 1));
      });
      list.append(template);
      template.animate({
        opacity: 1
      }, 200, 'linear');
      return false;
    });
    (jQuery('a.less')).live('click', function(event) {
      var list, listItem;
      event.preventDefault();
      listItem = (jQuery(this)).parent();
      list = (jQuery(listItem)).parent();
      listItem.animate({
        opacity: 0
      }, 200, 'linear', function() {
        var index;
        listItem.remove();
        index = 0;
        return ((list.find('li')).not('.template')).each(function(el) {
          ((jQuery(this)).find('input')).each(function(input) {
            return (jQuery(this)).attr('name', ((jQuery(this)).attr('name')).replace(/\[\d+\]/, "[" + index + "]"));
          });
          return index++;
        });
      });
      return false;
    });
    (jQuery('form.references')).on('change', function() {
      return console.log('change!');
    });
    return (jQuery('input[name="title"]')).on('keyup', function() {
      var val;
      val = (jQuery(this)).val();
      (jQuery('input[name="slug"]')).val(val.replace(/[^a-z0-9\-\.]/gi, '-'));
      return console.log;
    });
  });

}).call(this);
